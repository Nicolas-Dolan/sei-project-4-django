(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,a){e.exports=a(71)},42:function(e,t,a){},44:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),s=a.n(o),c=(a(42),a(7)),i=a(17),l=(a(43),a(44),function(){return r.a.createElement("section",{className:"hero is-fullheight-with-navbar"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container frontPage"},r.a.createElement("p",{className:"title is-1 has-text-centered"},"Pokemon Unlimited"))))}),m=a(1),d=a.n(m),u=a(6),h=a(4),p=a(5),g=a(9),f=a(8),k=a(10),v=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayload",value:function(){var e=this.getToken();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayload();return console.log("payload",e),!!e}}]),e}(),b=a(3),y=a.n(b),E=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={navbarOpen:!1,username:null},a.toggleNavbar=function(){a.setState({navbarOpen:!a.state.navbarOpen})},a.handleLogout=function(){v.logout(),a.props.history.push("/")},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isAuthenticated()){e.next=11;break}return e.prev=1,e.next=4,y.a.get("/api/profile",{headers:{Authorization:"Bearer ".concat(v.getToken())}});case 4:t=e.sent,this.setState({username:t.data.username}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.location.pathname===t.location.pathname){e.next=13;break}if(this.setState({navbarOpen:!1}),!v.isAuthenticated()){e.next=13;break}return e.prev=3,e.next=6,y.a.get("/api/profile",{headers:{Authorization:"Bearer ".concat(v.getToken())}});case 6:a=e.sent,this.setState({username:a.data.username}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.navbarOpen;return console.log(v.getPayload().sub),console.log("is auth =",v.isAuthenticated()),r.a.createElement("nav",{className:"navbar is-danger"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(c.b,{className:"navbar-item",to:"/"},"Pokemon Unlimited"),r.a.createElement("a",{className:"navbar-burger ".concat(e?"is-active":""),onClick:this.toggleNavbar},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:"navbar-menu ".concat(e?"is-active":"")},r.a.createElement("div",{className:"navbar-end"},r.a.createElement(c.b,{className:"navbar-item",to:"/battleroyale"},"Battle Royale"),r.a.createElement(c.b,{className:"navbar-item",to:"/pokemons"},"PokeDex"),!v.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/register"},"Register"),!v.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/login"},"Login"),v.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/pokemons/new"},"Create Pokemon"),v.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/profile"},"Profile"),v.isAuthenticated()&&r.a.createElement("a",{onClick:this.handleLogout,className:"navbar-item"},"Logout ",this.state.username)))))}}]),t}(r.a.Component),w=Object(i.g)(E),N=function(){return r.a.createElement("section",{className:"hero is-fullheight-with-navbar"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title is-1 has-text-centered"},"Oops something went wrong. Please try again."))))},x=(a(36),a(18)),O=a(14),j=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",email:"",password:"",passwordConfirmation:""},errors:{}},a.handleChange=function(e){var t=Object(O.a)({},a.state.data,Object(x.a)({},e.target.name,e.target.value)),n=Object(O.a)({},a.state.errors,Object(x.a)({},e.target.name,""));a.setState({data:t,errors:n})},a.handleSubmit=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,y.a.post("api/register",a.state.data);case 4:a.props.history.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.setState({errors:e.t0.response.data.errors});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return console.log(this.state.errors),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter"},r.a.createElement("h2",{className:"title"},"Register"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Username"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.username?"is-danger":""),placeholder:"Username",name:"username",onChange:this.handleChange})),this.state.errors.username&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.username)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.email?"is-danger":""),placeholder:"Email",name:"email",onChange:this.handleChange})),this.state.errors.email&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.email)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.password?"is-danger":""),type:"password",placeholder:"Password",name:"password",onChange:this.handleChange})),this.state.errors.password&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.password)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password Confirmation"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.passwordConfirmation?"is-danger":""),type:"password",placeholder:"Password Confirmation",name:"passwordConfirmation",onChange:this.handleChange})),this.state.errors.passwordConfirmation&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.passwordConfirmation)),r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"submit",className:"button is-fullwidth is-warning"},"Register Me"))))))}}]),t}(r.a.Component),S=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,o=Object(O.a)({},a.state.data,Object(x.a)({},n,r));a.setState({data:o,error:""})},a.handleSubmit=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,y.a.post("api/login",a.state.data);case 4:n=e.sent,console.log("data =",a.state.data),v.setToken(n.data.token),console.log("token =",n.data.token),a.props.history.push("/pokemons"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.setState({error:"Invalid Credentials"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter"},r.a.createElement("h2",{className:"title"},"Login"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.error?"is-danger":""),name:"email",placeholder:"Email",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.error?"is-danger":""),type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})),this.state.error&&r.a.createElement("small",{className:"help is-danger"},this.state.error)),r.a.createElement("button",{type:"submit",className:"button is-warning is-fullwidth"},"Login")))))}}]),t}(r.a.Component),I=function(e){var t=e.id,a=e.name,n=e.frontImg,o=(e.backImg,e.hp,e.attack,e.defence,e.spAt,e.spDf,e.speed,e.type1,e.type2,e.height,e.shape,e.description);return r.a.createElement("div",{key:t,className:"column is-one-third-desktop is-one-third-tablet is-half-mobile"},r.a.createElement(c.b,{to:"/pokemons/".concat(t)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-header-title"},a)),r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{src:n,alt:a}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("h4",{className:"title is-5"},"Description"),r.a.createElement("p",null,o)))))},P=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={pokemons:[]},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("api/pokemons/");case 3:t=e.sent,console.log("res =",t.data),this.setState({pokemons:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state.pokemons),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.pokemons.map((function(e){return r.a.createElement(I,Object.assign({key:e.id},e))})))))}}]),t}(r.a.Component),M=a(19),C=function(e){var t=e.stats,a=t.name,n=t.id,o=t.height,s=t.stats,c=t.types,i=e.species,l=i.shape,m=i.flavor_text_entries,d=i.egg_groups,u=i.generation,h=i.is_baby;return r.a.createElement("div",{key:n},r.a.createElement("p",null,'{\n        "model": "pokemons.pokemon",\n        "pk": '.concat(n,',\n        "fields": {\n        "name": "').concat(a,'",\n        "dexNum": ').concat(n,',\n        "frontImg": "http://www.pokestadium.com/sprites/black-white/animated/').concat(a,'.gif",\n        "backImg": "http://www.pokestadium.com/sprites/black-white/animated/back/').concat(a,'.gif",\n        "hp": ').concat(s[5].base_stat,',\n        "attack": ').concat(s[4].base_stat,',\n        "defence": ').concat(s[3].base_stat,',\n        "spAt": ').concat(s[2].base_stat,',\n        "spDf": ').concat(s[1].base_stat,',\n        "speed": ').concat(s[0].base_stat,',\n        "type1": "').concat(c[0].type.name,'",\n        "type2": "').concat(c[1]?c[1].type.name:null,'",\n        "shape": "').concat(l.name,'",\n        "height": ').concat(o,',\n        "eggGroup": "').concat(d[0].name,'",\n        "isBaby": ').concat(h,',\n        "generation": "').concat(u.name,'",\n        "owner": 1,\n        "description": "').concat(m.reduce((function(e,t,a){return"en"===t.language.name&&a<4&&(e=t.flavor_text),e})),'"\n}\n      },')))},A=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={pokemons:[]},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1,t=141;case 2:if(!(t<=151)){e.next=19;break}return e.prev=3,e.next=6,y.a.get("https://pokeapi.co/api/v2/pokemon/".concat(t,"/"));case 6:return a=e.sent,e.next=9,y.a.get("https://pokeapi.co/api/v2/pokemon-species/".concat(t,"/"));case 9:n=e.sent,this.setState({pokemons:[].concat(Object(M.a)(this.state.pokemons),[{stats:a.data,species:n.data}])}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:t++,e.next=2;break;case 19:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){console.log(this.state.pokemons);return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.pokemons.map((function(e){return r.a.createElement(C,Object.assign({key:e.stats.id},e))})))))}}]),t}(r.a.Component),B=function(e){var t=e.id,a=e.name,n=e.frontImg;return r.a.createElement("div",{key:t,className:"viewCard centerIt"},r.a.createElement("div",null,r.a.createElement("h4",null,a)),r.a.createElement("div",null,r.a.createElement("figure",null,r.a.createElement("img",{className:"viewImage",src:n,alt:a}))))},D=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={allPokemon:[],detailsView:{name:"Who's that pokemon?",frontImg:"https://famequiz.com/wp-content/uploads/2019/09/Screenshot_1.png",hp:"???",attack:"???",defence:"???",spAt:"???",spDf:"???",speed:"???"},count:0,game:"test",gridBuilt:!1,pokemonDeployed:!1,gameActive:!1,width:30,squareHeight:14.4,grid:[],playerIndex:53,staged:{},deployed:{},benched:{},attacks:{},testmon:{name:"venusaur",_id:"111",id:"3",frontImg:"./../assets/4/front.gif",backImg:"./../assets/4/back.gif",hp:80,attack:82,defence:83,spAt:100,spDf:100,speed:80,type1:"poison",type2:"grass",shape:"quadruped",height:6,description:",There is a large flower on Venusaur\u2019s back. The flower is said to take on vivid colors if it gets plenty of nutrition and sunlight. The flower\u2019s aroma soothes the emotions of people.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"}},a.buildGame=function(){var e=a.state,t=e.grid,n=e.width,r=e.deployed,o=e.staged,s=(e.benched,0);for(s=0;s<n*n;s++)t.push([]);console.log("deployed in buildgame =",r),a.setState({grid:t,deployed:r,staged:o,gridBuilt:!0})},a.pauseGame=function(){var e=a.state.deployed;Object.keys(e).map((function(t){clearInterval(e[t].pokeTimer)})),a.setState({deployed:e,gameActive:!1})},a.resetGame=function(){var e=a.state.grid,t=a.state.width;e=[];var n=0;for(n=0;n<t*t;n++)e.push([]);a.setState({pokemonDeployed:!1,gameActive:!1,deployed:{},benched:{},attacks:{},grid:e})},a.deployPokemon=function(){var e=a.state,t=e.deployed,n=e.staged,r=e.benched,o=e.grid,s=e.width;Object.keys(n).map((function(e){t[e]=Object(O.a)({},a.state.staged[e])})),Object.keys(t).map((function(e){for(var n=t[e].pokeHeight,c=!1,i=0;i<10&&!1===c;){i++;var l=Math.floor(Math.random()*(o.length-s)),m=l+(n-1+(n-1)*s),d=[];a.pushBlock(l,m,d),l%s<s-n-1&&l+1+s*(n+1)<s*s&&a.checkMove(o,d,"pokemon",t[e]._id)&&(o[l].push("pokeIndex"),a.paintBlock(l,m,"pokemon",o),a.paintBlock(l,m,t[e]._id,o),t[e].pokeIndex=l,t[e].farIndex=m,t[e].target=["id placeholder","index placeholder","closeness placeholder"],t[e].pokeTimer="placeholder",t[e].direction=a.randomDirection(),t[e].attackCounter=0,t[e].currentHealth=t[e].hp,t[e].previousHealth=t[e].hp,t[e].damageReceived="none",c=!0)}c||(r[e]=t[e],console.log(t[e].name,"was benched"),delete t[e])})),a.setState({deployed:t,staged:n,benched:r,grid:o,pokemonDeployed:!0})},a.activatePokemon=function(){var e=a.state,t=e.gridBuilt,n=e.grid,r=e.deployed;a.setState({gameActive:!0}),Object.keys(r).map((function(e){var o=r[e],s=a.state.deployed[e];s.pokeIndex,s.farIndex,e.pokeTimerId;t&&(a.pokeTimer=setInterval((function(){a.pokeAction(n,o)}),o.pokeSpeed),r[e].pokeTimer=a.pokeTimer,a.setState({deployed:r}))}))},a.handleKeyDown=function(e){var t=a.state,n=t.width,r=t.grid,o=a.state.testmon,s=o.height,c=o._id,i=a.pokeHeight(s),l=a.state.playerIndex,m=l,d=l+(i-1+(i-1)*n),u=d,h=[],p=[],g=[],f=[];switch(a.findSelf(l,i,[],h,p,g,f),e.keyCode){case 39:(l+i-1)%n<n-1&&a.checkMove(r,p,"wall",c)&&a.checkMove(r,p,"pokemon",c)&&(l++,d++);break;case 37:l%n>0&&a.checkMove(r,h,"wall",c)&&a.checkMove(r,h,"pokemon",c)&&(l--,d--);break;case 40:l+n*(i-1)+n<n*n&&a.checkMove(r,f,"wall",c)&&a.checkMove(r,f,"pokemon",c)&&(l+=n,d+=n);break;case 38:l-n>=0&&a.checkMove(r,g,"wall",c)&&a.checkMove(r,g,"pokemon",c)&&(l-=n,d-=n);break;default:console.log("player shouldnt move")}r.map((function(e){e.includes("player")&&e.splice(e.indexOf("player"),1)})),a.eraseBlock(m,u,"pokemon",r),a.eraseBlock(m,u,c,r),r[l].push("player"),a.paintBlock(l,d,"pokemon",r),a.paintBlock(l,d,c,r),a.setState({grid:r,playerIndex:l})},a.effectiveness={normal:{normal:1,fire:1,water:1,electric:1,grass:1,ice:1,fighting:1,poison:1,ground:1,flying:1,psychic:1,bug:1,rock:.5,ghost:0,dragon:1,dark:1,steel:.5,fairy:1,null:1},fire:{normal:1,fire:.5,water:.5,electric:1,grass:2,ice:2,fighting:1,poison:1,ground:1,flying:1,psychic:1,bug:2,rock:.5,ghost:1,dragon:.5,dark:1,steel:2,fairy:1,null:1},water:{normal:1,fire:2,water:.5,electric:1,grass:.5,ice:1,fighting:1,poison:1,ground:2,flying:1,psychic:1,bug:2,rock:1,ghost:1,dragon:.5,dark:1,steel:1,fairy:1,null:1},electric:{normal:1,fire:1,water:2,electric:.5,grass:.5,ice:1,fighting:1,poison:1,ground:0,flying:2,psychic:1,bug:1,rock:1,ghost:1,dragon:.5,dark:1,steel:1,fairy:1,null:1},grass:{normal:1,fire:.5,water:2,electric:1,grass:.5,ice:1,fighting:1,poison:.5,ground:2,flying:.5,psychic:1,bug:.5,rock:2,ghost:1,dragon:.5,dark:1,steel:.5,fairy:1,null:1},ice:{normal:1,fire:.5,water:.5,electric:1,grass:2,ice:.5,fighting:1,poison:1,ground:2,flying:2,psychic:1,bug:1,rock:1,ghost:1,dragon:2,dark:1,steel:.5,fairy:1,null:1},fighting:{normal:2,fire:1,water:1,electric:1,grass:1,ice:2,fighting:1,poison:.5,ground:1,flying:.5,psychic:.5,bug:.5,rock:2,ghost:0,dragon:1,dark:2,steel:2,fairy:.5,null:1},poison:{normal:1,fire:1,water:1,electric:1,grass:2,ice:1,fighting:1,poison:.5,ground:.5,flying:1,psychic:1,bug:1,rock:.5,ghost:.5,dragon:1,dark:1,steel:0,fairy:2,null:1},ground:{normal:1,fire:2,water:1,electric:2,grass:.5,ice:1,fighting:1,poison:2,ground:1,flying:0,psychic:1,bug:.5,rock:2,ghost:1,dragon:1,dark:1,steel:2,fairy:1,null:1},flying:{normal:1,fire:1,water:1,electric:.5,grass:2,ice:1,fighting:2,poison:1,ground:1,flying:1,psychic:1,bug:2,rock:.5,ghost:1,dragon:1,dark:1,steel:.5,fairy:1,null:1},psychic:{normal:1,fire:1,water:1,electric:1,grass:1,ice:1,fighting:2,poison:2,ground:1,flying:1,psychic:.5,bug:1,rock:1,ghost:1,dragon:1,dark:0,steel:.5,fairy:1,null:1},bug:{normal:1,fire:.5,water:1,electric:1,grass:2,ice:1,fighting:.5,poison:.5,ground:1,flying:.5,psychic:2,bug:1,rock:1,ghost:.5,dragon:1,dark:2,steel:.5,fairy:.5,null:1},rock:{normal:1,fire:2,water:1,electric:1,grass:1,ice:2,fighting:.5,poison:1,ground:.5,flying:2,psychic:1,bug:2,rock:1,ghost:1,dragon:1,dark:1,steel:.5,fairy:1,null:1},ghost:{normal:0,fire:1,water:1,electric:1,grass:1,ice:1,fighting:1,poison:1,ground:1,flying:1,psychic:2,bug:1,rock:1,ghost:2,dragon:1,dark:.5,steel:1,fairy:1,null:1},dragon:{normal:1,fire:1,water:1,electric:1,grass:1,ice:1,fighting:1,poison:1,ground:1,flying:1,psychic:1,bug:1,rock:1,ghost:1,dragon:2,dark:1,steel:.5,fairy:0,null:1},dark:{normal:1,fire:1,water:1,electric:1,grass:1,ice:1,fighting:.5,poison:1,ground:1,flying:1,psychic:2,bug:1,rock:1,ghost:2,dragon:1,dark:.5,steel:1,fairy:.5,null:1},steel:{normal:1,fire:.5,water:.5,electric:.5,grass:1,ice:2,fighting:1,poison:1,ground:1,flying:1,psychic:1,bug:1,rock:2,ghost:1,dragon:1,dark:1,steel:.5,fairy:2,null:1},fairy:{normal:1,fire:.5,water:1,electric:1,grass:1,ice:1,fighting:2,poison:.5,ground:1,flying:1,psychic:1,bug:1,rock:1,ghost:1,dragon:2,dark:2,steel:.5,fairy:1,null:1}},a.viewStats=function(e){var t=a.state.detailsView,n=a.state.allPokemon.reduce((function(t,a){return a.id.toString()===e.target.className&&(t=a),t}));t=Object(O.a)({},n),a.setState({detailsView:t})},a.removeStats=function(){a.state.detailsView;a.setState({detailsView:{name:"none"}})},a.addPokemon=function(e){var t=a.state.staged,n=a.state.allPokemon.reduce((function(t,n){return n.name===e.target.className&&(n.pokeHeight=a.pokeHeight(n.height),n.pokeSpeed=a.pokeSpeed(n.speed),t=n),t}),0),r="id_"+Math.floor(1e8*Math.random());t[r]=Object(O.a)({},n),Object.keys(t).map((function(e){t[e]._id=e})),a.setState({staged:t})},a.removePokemon=function(e){var t=a.state.staged;delete t[e.target.className],a.setState({staged:t})},a.addAllPokemon=function(e){var t=a.state.staged;a.state.allPokemon.map((function(e){var n="id_"+Math.floor(1e8*Math.random());t[n]=e,t[n]._id=n,t[n].pokeHeight=a.pokeHeight(t[n].height),t[n].pokeSpeed=a.pokeSpeed(t[n].speed)})),a.setState({staged:t})},a.removeAllPokemon=function(){var e=a.state.staged;Object.keys(e).map((function(t){delete e[t]})),a.setState({staged:e})},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("component did mount"),e.prev=1,e.next=4,y.a.get("api/pokemons/");case 4:for(t=e.sent,a=this.state,n=a.grid,r=a.width,o=0,o=0;o<r*r;o++)n.push([]);this.setState({grid:n,gridBuilt:!0}),this.setState({allPokemon:t.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"catch",value:function(e){console.log(e)}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval);var e=this.state.deployed;Object.keys(e).map((function(t){clearInterval(e[t].pokeTimer)})),this.setState({deployed:e}),console.log("component will unmount")}},{key:"placePlayer",value:function(e){var t=this.state,a=t.playerIndex,n=t.width,r=this.state.testmon,o=r.height,s=r._id,c=this.pokeHeight(o),i=a+(c-1+(c-1)*n);e[a].push("player"),this.paintBlock(a,i,"pokemon",e),this.paintBlock(a,i,s,e)}},{key:"portPokemon",value:function(e,t){Object.keys(e).map((function(e){t[e]=Object(O.a)({},e)}))}},{key:"randomDirection",value:function(){return["up","down","left","right"][Math.floor(4*Math.random())]}},{key:"pokeAction",value:function(e,t){var a=t.target;t._id,this.state.deployed;a=this.chooseTarget(e,t,a);var n=this.targetRelPos(e,t,a);this.checkForDamage(t,!1),"id placeholder"!==a[0]&&this.attackPokemon(t,a,n),this.movePokemon(e,t,a,n),this.checkForDamage(t)}},{key:"checkForDamage",value:function(e,t){var a=e.currentHealth,n=(e.previousHealth,e._id),r=e.pokeIndex,o=e.farIndex,s=(e.damageReceived,this.state),c=s.deployed,i=s.grid;if(a<=0)return i[r].splice(i[r].indexOf("pokeIndex"),1),this.eraseBlock(r,o,"pokemon",i),this.eraseBlock(r,o,n,i),this.setState({grid:i}),!0,clearInterval(c[n].pokeTimer),!0}},{key:"attackPokemon",value:function(e,t,a){var n=e.attackCounter,r=this.state.attacks,o=e.attack,s=e.type1,c=e.type2,i=e._id,l=(e.spAt,e.pokeIndex),m=e.pokeHeight,d=this.state,u=d.deployed,h=d.width,p=d.grid,g=u[t[0]].defence,f=u[t[0]].type1,k=u[t[0]].type2;Math.round(m/2),Math.round(m/2);n++,u[i].attackCounter=n;var v=[s,c];v="null"===v[1]?v[0]:v[Math.floor(2*Math.random())],"close"===t[2]&&n>3&&(u[t[0]].previousHealth=u[t[0]].currentHealth,u[t[0]].currentHealth=u[t[0]].currentHealth-this.damageCalculator(o,g,v,f,k),u[t[0]].damageReceived=v,u[i].attackCounter=0),this.setState({deployed:u,attacks:r,grid:p})}},{key:"damageCalculator",value:function(e,t,a,n,r){return Math.round((e/t*1760/50+2)*this.effectiveness[a][n]*this.effectiveness[a][r])}},{key:"movePokemon",value:function(e,t,a,n){var r=this.state.width,o=t.pokeIndex,s=t.pokeHeight,c=t._id,i=t.direction,l=0,m=0,d=0,u=0;"left"===n[0]?(u+=10,n[2]>n[3]&&(u+=5)):"right"===n[0]?(d+=10,n[2]>n[3]&&(d+=5)):"same"===n[0]&&(d+=5,u+=5),"above"===n[1]?(l+=10,n[2]<n[3]&&(l+=5)):"below"===n[1]?(m+=10,n[2]<n[3]&&(m+=5)):"same"===n[1]&&(l+=5,m+=5),"up"===i?(l+=.5,u+=.5,d+=.5):"down"===i?(m++,u+=.5,d+=.5):"left"===i?(u+=.5,l+=.5,m+=.5):"right"===i&&(d+=.5,l+=.5,m+=.5);var h=[],p=[],g=[],f=[];this.findSelf(o,s,[],h,p,g,f),(o+s-1)%r<r-1&&this.checkMove(e,p,"wall",c)&&this.checkMove(e,p,"pokemon",c)||(d="stop"),o%r>0&&this.checkMove(e,h,"wall",c)&&this.checkMove(e,h,"pokemon",c)||(u="stop"),o+r*(s-1)+r<r*r&&this.checkMove(e,f,"wall",c)&&this.checkMove(e,f,"pokemon",c)||(m="stop"),o-r>=0&&this.checkMove(e,g,"wall",c)&&this.checkMove(e,g,"pokemon",c)||(l="stop");var k=[l,m,u,d].sort().reverse().filter((function(e){return"stop"!==e}));this.makeMovement(c,k.length<1?"stop":k[0]===l?"up":k[0]===m?"down":k[0]===u?"left":k[0]===d?"right":"stop",a)}},{key:"makeMovement",value:function(e,t,a){var n=this.state.deployed,r=this.state,o=r.width,s=r.grid,c=n[e].pokeIndex,i=n[e].farIndex;"right"===t?(n[e].pokeIndex++,n[e].farIndex++):"left"===t?(n[e].pokeIndex--,n[e].farIndex--):"up"===t?(n[e].pokeIndex-=o,n[e].farIndex-=o):"down"===t&&(n[e].pokeIndex+=o,n[e].farIndex+=o),n[e].target=Object(M.a)(a),n[e].direction=t,s[c].splice(s[c].indexOf("pokeIndex"),1),this.eraseBlock(c,i,"pokemon",s),this.eraseBlock(c,i,e,s),s[n[e].pokeIndex].push("pokeIndex"),this.paintBlock(n[e].pokeIndex,n[e].farIndex,"pokemon",s),this.paintBlock(n[e].pokeIndex,n[e].farIndex,e,s),this.setState({grid:s,deployed:n})}},{key:"targetRelPos",value:function(e,t,a){var n=this.state.width,r=t.pokeIndex,o=a[1],s=Math.ceil((r+1)/n),c=n-(n*n-(r+1))%n,i=Math.ceil((o+1)/n),l=n-(n*n-(o+1))%n;return[c<l?"right":c>l?"left":"same",s<i?"below":s>i?"above":"same",Math.abs(c-l),Math.abs(s-i)]}},{key:"chooseTarget",value:function(e,t,a){var n=t.pokeIndex,r=t.pokeHeight,o=this.state.width,s=Object(M.a)(a),c=this.findGridLimits(e,n,r);return"no id"!==(a=this.checkProximity(a,c,t,"close",1))[0]&&"id placeholder"!==a[0]&&a[1]!==s[1]||(a=this.checkProximity(a,c,t,"near",3)),"no id"!==a[0]&&"id placeholder"!==a[0]&&a[1]!==s[1]||(a=this.checkProximity(a,c,t,"medium",5)),"no id"!==a[0]&&"id placeholder"!==a[0]&&a[1]!==s[1]||(a=this.checkProximity(a,c,t,"far",o)),a}},{key:"checkProximity",value:function(e,t,a,n,r){var o=a.pokeIndex,s=a._id,c=a.pokeHeight,i=(a.name,this.state),l=i.grid,m=i.width,d=o+(c-1+(c-1)*m),u=[],h=[];if(this.proximityFinder(r,t,o,d,m,h),!this.checkMove(l,h,"pokemon",s)){var p=(u=(u=h.map((function(e){return l[e].includes("pokemon")&&!l[e].includes(s)?l[e].reduce((function(t,a){return a.startsWith("id_")&&(t=[a,e]),t})):"none"}))).filter((function(e){return e[0].startsWith("id_")}))).filter((function(t){return t[0]===e[0]}));if(p.length>0){var g=Math.floor(Math.random()*p.length);e=[].concat(Object(M.a)(p[g]),[n])}else if(u.length>0){var f=Math.floor(Math.random()*u.length);e=[].concat(Object(M.a)(u[f]),[n])}else e=["no id","no index","no closeness"]}return e}},{key:"proximityFinder",value:function(e,t,a,n,r,o){var s=this.pokeVision(e,t);this.pushBlock(a-s[2]-r*s[0],n+s[3]+r*s[1],o)}},{key:"pokeVision",value:function(e,t){return t.map((function(t){return e<t?e:t}))}},{key:"findGridLimits",value:function(e,t,a){var n=this.state.width,r=Math.ceil((t+1)/n),o=n-(n*n-(t+1))%n;return[r-1,n-r-(a-1),o-1,n-o-(a-1)]}},{key:"pokeSpeed",value:function(e){return e<40?500:e<50?480:e<60?460:e<70?440:e<80?420:e<90?400:e<100?380:e<110?360:e<120?340:320}},{key:"pokeHeight",value:function(e){return e<10?3:e<15?4:e<20?5:e<25?6:e<30?7:8}},{key:"findImage",value:function(e){return this.findPokeProp(e,"frontImg")}},{key:"findPokeProp",value:function(e,t){var a="";return e[0]&&(a=e.reduce((function(e,t){return t.startsWith("id_")&&(e=t),e}))),this.state.deployed[a][t]}},{key:"pushRow",value:function(e,t,a){var n=e;for(n=e;n<=t;n++)a.push(n);return a}},{key:"pushBlock",value:function(e,t,a){var n=this.state.width,r=Math.ceil((t+1)/n)-Math.ceil((e+1)/n)+1,o=0;for(o=0;o<r;o++)this.pushRow(e+n*o,t-n*(r-(o+1)),a);return a}},{key:"paintRow",value:function(e,t,a,n){var r=e;for(r=e;r<=t;r++)n[r].push(a);return n}},{key:"paintBlock",value:function(e,t,a,n){var r=this.state.width,o=Math.ceil((t+1)/r)-Math.ceil((e+1)/r)+1,s=0;for(s=0;s<o;s++)this.paintRow(e+r*s,t-r*(o-(s+1)),a,n);return n}},{key:"eraseRow",value:function(e,t,a,n){var r=e;for(r=e;r<=t;r++)n[r].includes(a)&&n[r].splice(n[r].indexOf(a),1);return n}},{key:"eraseBlock",value:function(e,t,a,n){var r=this.state.width,o=Math.ceil((t+1)/r)-Math.ceil((e+1)/r)+1,s=0;for(s=0;s<o;s++)this.eraseRow(e+r*s,t-r*(o-(s+1)),a,n);return n}},{key:"findSelf",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],c=this.state.width,i=e+(t-1+(t-1)*c);this.pushBlock(e,i,a),this.pushBlock(e-1,e-1+c*(t-1),n),this.pushBlock(e+t,e+t+c*(t-1),r),this.pushBlock(e-c,e-c+t-1,o),this.pushBlock(e+c*t,i+c,s)}},{key:"checkMove",value:function(e,t,a,n){return t.map((function(t){return!e[t].includes(a)||e[t].includes(n)})).reduce((function(e,t){return!1===t&&(e=t),e}),!0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.grid,n=(t.playerIndex,t.testmon),o=t.gameActive,s=t.gridBuilt,c=t.width,i=t.squareHeight,l=(t.count,t.allPokemon),m=t.detailsView,d=t.pokemonDeployed,u=t.staged;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"mainBat"},r.a.createElement("section",null,s?"":r.a.createElement("button",{onClick:this.buildGame},"Build Game"),d?"":r.a.createElement("button",{onClick:this.deployPokemon},"Deploy Pokemon"),!o&&s&&d?r.a.createElement("button",{onClick:this.activatePokemon},"Start Game"):"",o&&d?r.a.createElement("button",{onClick:this.pauseGame},"Stop Game"):"",!o&&d?r.a.createElement("button",{onClick:this.resetGame},"Reset Game"):"",r.a.createElement("div",{className:"wrapper"},a[0]?r.a.createElement("div",{className:"grid",style:{height:"".concat(c*i,"px"),width:"".concat(c*i,"px")}},a.map((function(t,a){return r.a.createElement("div",{key:a.toString(),style:{width:"".concat(i,"px"),height:"".concat(i,"px")},className:t[0]?t.reduce((function(e,t){return e+" "+t})):""},t.includes("player")?r.a.createElement("img",{className:"playerImage",src:n.frontImg}):"",t.includes("pokeIndex")?r.a.createElement("img",{className:"pokeImage",src:e.findImage(t),style:{height:"".concat(e.findPokeProp(t,"pokeHeight")*i,"px")}}):"")}))):null)),r.a.createElement("section",{className:"centerIt"},r.a.createElement("div",null,r.a.createElement("h2",null,"Staged"),r.a.createElement("button",{onClick:this.removeAllPokemon},"Remove All Pokemon"),r.a.createElement("div",{className:"centerIt"},Object.keys(u).map((function(t){return r.a.createElement("div",{key:t.id,className:u[t].id},r.a.createElement(B,Object.assign({},u[t],{className:t.id,viewStats:e.viewStats})),r.a.createElement("button",{className:u[t].id,onClick:e.viewStats},"View Stats"),r.a.createElement("button",{className:u[t]._id,onClick:e.removePokemon},"Remove Pokemon"))}))))),r.a.createElement("section",{className:"centerIt"},r.a.createElement("div",null,r.a.createElement("h2",null,"Select Pokemon"),r.a.createElement("button",{onClick:this.addAllPokemon},"Add All Pokemon"),r.a.createElement("div",null,l.map((function(t){return r.a.createElement("div",{key:t.id,className:t.id},r.a.createElement(B,Object.assign({},t,{className:t.id,viewStats:e.viewStats})),r.a.createElement("button",{className:t.id,onClick:e.viewStats},"View Stats"),r.a.createElement("button",{className:t.name,onClick:e.addPokemon},"Add to Game"))}))))),r.a.createElement("section",{className:"detailsBoard"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,m.name),r.a.createElement("img",{src:m.frontImg}),r.a.createElement("p",null,"HP: ",m.hp),r.a.createElement("p",null,"Attack: ",m.attack),r.a.createElement("p",null,"Defence: ",m.defence),r.a.createElement("p",null,"Sp. Attack: ",m.spAt),r.a.createElement("p",null,"Sp. Defence: ",m.spDf),r.a.createElement("p",null,"Speed: ",m.speed)))))))}}]),t}(r.a.Component),_=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={pokemon:null},a.handleDelete=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.prev=1,e.next=4,y.a.delete("/api/pokemons/".concat(t),{headers:{Authorization:"Bearer ".concat(v.getToken())}});case 4:a.props.history.push("/pokemons"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),a.isOwner=function(){return v.getPayload().sub===a.state.pokemon.owner.id},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,y.a.get("/api/pokemons/".concat(t));case 4:a=e.sent,this.setState({pokemon:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),this.props.history.push("/notfound");case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.pokemon;return e?(console.log(e),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"title"},e.name),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-half"},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{src:e.frontImg,alt:e.name})),r.a.createElement("p",null,"Created by: ",e.owner.username)),r.a.createElement("div",{className:"column is-half"},r.a.createElement("h4",{className:"title is-4"},"PokeDex Number"),r.a.createElement("p",null,e.dexNum),r.a.createElement("hr",null),r.a.createElement("h4",{className:"title is-5"},"Stats"),r.a.createElement("h5",{className:"title is-6"},"HP: ",e.hp),r.a.createElement("h5",{className:"title is-6"},"Attack: ",e.attack),r.a.createElement("h5",{className:"title is-6"},"Defence: ",e.defence),r.a.createElement("h5",{className:"title is-6"},"Sp. Attack: ",e.spAt),r.a.createElement("h5",{className:"title is-6"},"Sp. Defence: ",e.spDf),r.a.createElement("h5",{className:"title is-6"},"Speed: ",e.speed),r.a.createElement("hr",null),r.a.createElement("h4",{className:"title is-4"},"Description"),r.a.createElement("hr",null),r.a.createElement("p",null,e.description),r.a.createElement("hr",null),r.a.createElement("hr",null),this.isOwner()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement(c.b,{to:"/pokemons/".concat(e.id,"/edit"),className:"button is-warning"},"Edit Pokemon"),r.a.createElement("button",{onClick:this.handleDelete,className:"button is-danger"},"Delete Pokemon \u2620\ufe0f")))))))):null}}]),t}(r.a.Component),H=function(){return r.a.createElement(c.a,null,r.a.createElement("main",null,r.a.createElement(w,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:l}),r.a.createElement(i.b,{path:"/battleroyale",component:D}),r.a.createElement(i.b,{path:"/pokemons/:id",component:_}),r.a.createElement(i.b,{path:"/pokemons",component:P}),r.a.createElement(i.b,{path:"/seeds",component:A}),r.a.createElement(i.b,{path:"/register",component:j}),r.a.createElement(i.b,{path:"/login",component:S}),r.a.createElement(i.b,{path:"/*",component:N}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.2e75f656.chunk.js.map